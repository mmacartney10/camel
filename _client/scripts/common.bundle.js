!function(e,t,n){function o(){socket.on("server:mediaStream",function(e){i.src=e})}var i=document.querySelector("[data-image]");!function(){i&&o()}()}(jQuery,window),function(e,t,n){function o(){var e=document.querySelector(r),t=e.getContext("2d");e.width=640,e.height=480,t.width=e.width,t.height=e.height;var n=document.querySelector(c);setInterval(function(){t.drawImage(n,0,0,640,480),socket.emit("client:mediaStream",e.toDataURL("image/webp",.5))},70)}function i(e){var t=document.querySelector(c);t.srcObject=e,t.onloadedmetadata=function(e){t.play()}}function a(){navigator.mediaDevices.getUserMedia(d).then(function(e){console.log(e),i(e),o()}).catch(function(e){console.error("error:",e)})}var c="[data-video]",r="[data-canvas]",d={audio:!1,video:{width:{ideal:1280},height:{ideal:720}}};!function(){document.querySelector(c)&&a()}()}(jQuery,window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvLmpzIiwid2ViY2FtLmpzIl0sIm5hbWVzIjpbIiQiLCJ3aW5kb3ciLCJ1bmRlZmluZWQiLCJkaXNwbGF5TWVkaWFTdHJlYW0iLCJzb2NrZXQiLCJvbiIsImRhdGEiLCJFTEVNRU5UX2ltYWdlIiwic3JjIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwialF1ZXJ5IiwiZHJhd01lZGlhU3RyZWFtIiwiY2FudmFzIiwiU0VMRUNUT1JfY2FudmFzIiwiY29udGV4dCIsImdldENvbnRleHQiLCJ3aWR0aCIsImhlaWdodCIsInZpZGVvIiwiU0VMRUNUT1JfdmlkZW8iLCJzZXRJbnRlcnZhbCIsImRyYXdJbWFnZSIsImVtaXQiLCJ0b0RhdGFVUkwiLCJjcmVhdGVXZWJDYW0iLCJtZWRpYVN0cmVhbSIsInNyY09iamVjdCIsIm9ubG9hZGVkbWV0YWRhdGEiLCJldmVudCIsInBsYXkiLCJjcmVhdGVNZWRpYVN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsIndlYkNhbUNvbnN0cmFpbnRzIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwiYXVkaW8iLCJpZGVhbCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsRUFBQUMsR0FLQSxRQUFBQyxLQUNBQyxPQUFBQyxHQUFBLHFCQUFBLFNBQUFDLEdBQ0FDLEVBQUFDLElBQUFGLElBTEEsR0FDQUMsR0FBQUUsU0FBQUMsY0FEQSxpQkFhQSxXQUVBSCxHQUNBSixRQU1BUSxPQUFBVixRQ3hCQSxTQUFBRCxFQUFBQyxFQUFBQyxHQVlBLFFBQUFVLEtBQ0EsR0FBQUMsR0FBQUosU0FBQUMsY0FBQUksR0FDQUMsRUFBQUYsRUFBQUcsV0FBQSxLQUNBSCxHQUFBSSxNQUFBLElBQ0FKLEVBQUFLLE9BQUEsSUFDQUgsRUFBQUUsTUFBQUosRUFBQUksTUFDQUYsRUFBQUcsT0FBQUwsRUFBQUssTUFDQSxJQUFBQyxHQUFBVixTQUFBQyxjQUFBVSxFQUVBQyxhQUFBLFdBQ0FOLEVBQUFPLFVBQUFILEVBQUEsRUFBQSxFQUFBLElBQUEsS0FDQWYsT0FBQW1CLEtBQUEscUJBQUFWLEVBQUFXLFVBQUEsYUFBQSxNQUVBLElBR0EsUUFBQUMsR0FBQUMsR0FDQSxHQUFBUCxHQUFBVixTQUFBQyxjQUFBVSxFQUNBRCxHQUFBUSxVQUFBRCxFQUVBUCxFQUFBUyxpQkFBQSxTQUFBQyxHQUNBVixFQUFBVyxRQUlBLFFBQUFDLEtBQ0FDLFVBQUFDLGFBQUFDLGFBQUFDLEdBQUFDLEtBQUEsU0FBQVYsR0FFQVcsUUFBQUMsSUFBQVosR0FDQUQsRUFBQUMsR0FDQWQsTUFFQTJCLE1BQUEsU0FBQUMsR0FDQUgsUUFBQUcsTUFBQSxTQUFBQSxLQTNDQSxHQUFBcEIsR0FBQSxlQUNBTixFQUFBLGdCQUNBcUIsR0FDQU0sT0FBQSxFQUNBdEIsT0FDQUYsT0FBQXlCLE1BQUEsTUFDQXhCLFFBQUF3QixNQUFBLFFBeUNBLFdBQ0FqQyxTQUFBQyxjQUFBVSxJQUNBVyxRQU1BcEIsT0FBQVYiLCJmaWxlIjoiY29tbW9uLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkLCB3aW5kb3csIHVuZGVmaW5lZCkge1xuXG4gIHZhciBTRUxFQ1RPUl9pbWFnZSA9ICdbZGF0YS1pbWFnZV0nO1xuICB2YXIgRUxFTUVOVF9pbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfaW1hZ2UpO1xuXG4gIGZ1bmN0aW9uIGRpc3BsYXlNZWRpYVN0cmVhbSgpIHtcbiAgICBzb2NrZXQub24oJ3NlcnZlcjptZWRpYVN0cmVhbScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIEVMRU1FTlRfaW1hZ2Uuc3JjID0gZGF0YTtcbiAgICB9KTtcblxuICAgIC8vIHNvY2tldC5vbignY2xpZW50Om1lZGlhU3RyZWFtJywgZnVuY3Rpb24oZGF0YSkge1xuICAgIC8vICAgRUxFTUVOVF9pbWFnZS5zcmMgPSBkYXRhO1xuICAgIC8vIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyBjb25zb2xlLmxvZygndmlkZW8gaW5pdCcpO1xuICAgIGlmIChFTEVNRU5UX2ltYWdlKSB7XG4gICAgICBkaXNwbGF5TWVkaWFTdHJlYW0oKTtcbiAgICB9XG4gIH1cblxuICBpbml0KCk7XG5cbn0pKGpRdWVyeSwgd2luZG93KTtcbiIsIihmdW5jdGlvbigkLCB3aW5kb3csIHVuZGVmaW5lZCkge1xuXG4gIHZhciBTRUxFQ1RPUl92aWRlbyA9ICdbZGF0YS12aWRlb10nO1xuICB2YXIgU0VMRUNUT1JfY2FudmFzID0gJ1tkYXRhLWNhbnZhc10nO1xuICB2YXIgd2ViQ2FtQ29uc3RyYWludHMgPSB7XG4gICAgYXVkaW86IGZhbHNlLFxuICAgIHZpZGVvOiB7XG4gICAgICB3aWR0aDogeyBpZGVhbDogMTI4MCB9LFxuICAgICAgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdNZWRpYVN0cmVhbSgpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9jYW52YXMpO1xuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY2FudmFzLndpZHRoID0gNjQwO1xuICAgIGNhbnZhcy5oZWlnaHQgPSA0ODA7XG4gICAgY29udGV4dC53aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICBjb250ZXh0LmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgdmFyIHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl92aWRlbyk7XG5cbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCA2NDAsIDQ4MCk7XG4gICAgICBzb2NrZXQuZW1pdCgnY2xpZW50Om1lZGlhU3RyZWFtJywgY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2Uvd2VicCcsIDAuNSkpO1xuICAgICAgLy8gc29ja2V0LmJyb2FkY2FzdC5lbWl0KCdjbGllbnQ6bWVkaWFTdHJlYW0nLCBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS93ZWJwJywgMC41KSk7XG4gICAgfSwgNzApO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlV2ViQ2FtKG1lZGlhU3RyZWFtKSB7XG4gICAgdmFyIHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl92aWRlbyk7XG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gbWVkaWFTdHJlYW07XG5cbiAgICB2aWRlby5vbmxvYWRlZG1ldGFkYXRhID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTWVkaWFTdHJlYW0oKSB7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEod2ViQ2FtQ29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24obWVkaWFTdHJlYW0pIHtcblxuICAgICAgY29uc29sZS5sb2cobWVkaWFTdHJlYW0pO1xuICAgICAgY3JlYXRlV2ViQ2FtKG1lZGlhU3RyZWFtKTtcbiAgICAgIGRyYXdNZWRpYVN0cmVhbSgpO1xuXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yOicsIGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdlYmNhbUluaXQoKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfdmlkZW8pKSB7XG4gICAgICBjcmVhdGVNZWRpYVN0cmVhbSgpO1xuICAgIH1cbiAgfVxuXG4gIHdlYmNhbUluaXQoKTtcblxufSkoalF1ZXJ5LCB3aW5kb3cpO1xuIl19
